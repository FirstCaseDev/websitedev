<div *ngIf="loading" class="loading_animation" style="display: flex; z-index: 1000">
    <div class="loadingio-spinner-ripple-0klw6wjchhb">
        <div class="ldio-9faui0bm4nl">
            <div></div>
            <div></div>
        </div>
    </div>
    <style type="text/css ">
        @keyframes ldio-9faui0bm4nl {
            0% {
                top: 104.16px;
                left: 104.16px;
                width: 0;
                height: 0;
                opacity: 1;
            }
            100% {
                top: 19.53px;
                left: 19.53px;
                width: 169.26px;
                height: 169.26px;
                opacity: 0;
            }
        }
        
        .ldio-9faui0bm4nl div {
            position: absolute;
            border-width: 4.34px;
            border-style: solid;
            opacity: 1;
            border-radius: 50%;
            animation: ldio-9faui0bm4nl 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;
        }
        
        .ldio-9faui0bm4nl div:nth-child(1) {
            border-color: #93dbe9;
        }
        
        .ldio-9faui0bm4nl div:nth-child(2) {
            border-color: #689cc5;
            animation-delay: -0.5s;
        }
        
        .loadingio-spinner-ripple-0klw6wjchhb {
            width: 217px;
            height: 217px;
            display: block;
            overflow: hidden;
            background: rgba(255, 255, 255, 0);
        }
        
        .ldio-9faui0bm4nl {
            width: 100%;
            height: 100%;
            position: fixed;
            transform: translateZ(0) scale(1);
            backface-visibility: hidden;
            transform-origin: 0 0;
            right: 0;
            position: fixed;
            /* or absolute */
            top: 38%;
            left: 43%;
            margin: auto;
            /* see note above */
        }
        
        .ldio-9faui0bm4nl div {
            box-sizing: content-box;
        }
        /* generated by https://loading.io/ */
    </style>
</div>

<section class="probootstrap-cover overflow-hidden relative" style="background: url('../../assets/img/hero-bg.png') no-repeat top fixed" data-stellar-background-ratio="0.5" id="section-home">
    <div class="overlay"></div>
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md probootstrap-animate">
                <div class="probootstrap-form form-1">
                    <div class="form-group">
                        <!-- Row 1 -->
                        <div class="row mb-3">
                            <!-- Search -->
                            <div class="col-md">
                                <div class="form-group" id="search-form" style="margin-bottom: -5px !important">
                                    <label for="search" class="probootstrap-date-wrap">Search</label
                  >
                  <input
                    type="text"
                    class="form-control search-input"
                    placeholder=""
                    name="search"
                    id="search-box"
                    (keyup)="key_press($event)"
                    (ngModelChange)="queryChange($event)"
                    required="required"
                    placeholder="Full Text Search"
                    [(ngModel)]="query"
                    autocomplete="off"
                  />
                  <ul
                    id="autocomplete_list"
                    class="list-group search-input"
                    *ngIf="autocomplete_suggestions.length > 0 && view_focussed"
                  >
                    <li
                      *ngFor="let item of autoComplete_list"
                      class="autoComplete_items list-group-item"
                      (click)="autoComplete($event)"
                    >
                      {{ item }}
                    </li>
                  </ul>
                </div>
                <div class="form-group">
                  <div
                    class="search-filter-btn-mobile"
                    (click)="toggleShowFilter()"
                  >
                    <img src="../../assets/img/filter.svg" width="20px" />
                  </div>
                  <div class="search-icon-btn-mobile" (click)="first_search()">
                    <img src="../../assets/img/search_icon.svg" width="20px" />
                  </div>
                  <button
                    class="search-filter-btn"
                    (click)="toggleShowFilter()"
                  >
                    Filters</button
                  ><button class="search-icon-btn" (click)="first_search()">
                    Search
                  </button>
                </div>
              </div>
            </div>

            <!-- Row 2 -->
            <div class="row mb-3" *ngIf="ShowFilter">
              <!-- Sort By -->
              <div class="col-md">
                <div class="form-group">
                  <label for="sorting">Sort By</label>
                                    <label for="sorting" style="width: 100%">
                    <select
                      class="js-example-basic-single js-states form-control"
                      id="id_label_single"
                      style="width: 100%"
                      [(ngModel)]="sortBy"
                      (change)="selected()"
                      name="sorting"
                    >
                      <option
                        *ngFor="let item of sort_options"
                        [ngValue]="item"
                      >
                        {{ item.name }}
                      </option>
                    </select>
                  </label>
                                </div>
                            </div>
                            <!-- Start Date -->
                            <div class="col-md">
                                <div class="form-group">
                                    <label for="probootstrap-date-departure">Start Date</label>
                                    <div class="probootstrap-date-wrap">
                                        <span class="icon ion-calendar" (click)="dateFloor.toggle()"></span>
                                        <input class="form-control" placeholder="yyyy-mm-dd" name="dp" [(ngModel)]="date_floor" ngbDatepicker #dateFloor="ngbDatepicker" />
                                    </div>
                                </div>
                            </div>
                            <!-- End Date -->
                            <div class="col-md">
                                <div class="form-group">
                                    <label for="probootstrap-date-arrival">End Date</label>
                                    <div class="probootstrap-date-wrap">
                                        <span class="icon ion-calendar" (click)="dateCeil.toggle()"></span>
                                        <input class="form-control" placeholder="yyyy-mm-dd" name="dp" [(ngModel)]="date_ceil" ngbDatepicker #dateCeil="ngbDatepicker" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- END row -->
                        <div class="row mb-3" *ngIf="related_searches.length > 0">
                            <div class="col-md">
                                <label for="search" class="probootstrap-date-wrap">Similar queries</label
                >
                <div style="display: grid; grid-template-columns: 100%">
                  <div
                    style="
                      display: flex;
                      flex-wrap: wrap;
                      -webkit-flex-wrap: wrap;
                      align-items: center;
                    "
                  >
                    <div
                      class="keyword-list-item suggestions"
                      *ngFor="let item of related_searches"
                    >
                      <p
                        style="margin: 0; padding: 0; cursor: pointer"
                        (click)="tag_click($event)"
                      >
                        {{ item }}
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Row 3 -->
            <div class="row mb-3" *ngIf="ShowFilter">
              <!-- Judgements -->
              <div class="col-md">
                <div class="form-group">
                  <label for="judgments " class="probootstrap-date-wrap"
                    >Judgements</label
                  >
                  <ng-multiselect-dropdown
                    [placeholder]="'Select one or more...'"
                    [(ngModel)]="selectedJudgements"
                    [settings]="dropdownSettings"
                    [data]="judgement_options"
                    (onSelect)="onItemSelect($event)"
                    (onSelectAll)="onSelectAll($event)"
                    [ngModelOptions]="{ standalone: true }"
                  >
                  </ng-multiselect-dropdown>
                </div>
              </div>
              <!-- Courts -->
              <div class="col-md">
                <div class="form-group">
                  <label for="courts " class="probootstrap-date-wrap"
                    >Courts</label
                  >
                  <ng-multiselect-dropdown
                    [placeholder]="'Select one or more...'"
                    [(ngModel)]="selectedCourts"
                    [settings]="dropdownSettings"
                    [data]="court_options"
                    (onSelect)="onItemSelect($event)"
                    (onSelectAll)="onSelectAll($event)"
                    [ngModelOptions]="{ standalone: true }"
                  >
                  </ng-multiselect-dropdown>
                </div>
              </div>
            </div>
            <!-- END row -->

            <!-- Row 4 -->
            <div class="row mb-3">
              <div class="search-row-4">
                <!-- Country -->
                <div class="form-group">
                  <label for="id_label_single ">Country</label>
                                <label for="id_label_single " style="width: 100%">
                    <select
                      class="js-example-basic-single js-states form-control"
                      id="id_label_single "
                      name="id_label_single "
                      style="height: 45px"
                      [(ngModel)]="selectedCountry"
                      (change)="selected()"
                      name="sorting "
                    >
                      <option
                        *ngFor="let item of country_options"
                        [ngValue]="item"
                      >
                        {{ item.name }}
                      </option>
                    </select>
                  </label>
                            </div>
                            <!-- Tag Type -->
                            <div class="search-col-2 form-group">
                                <label for="tag_type ">Tag Type</label>
                                <label for="tag_type " style="width: 100%">
                    <select
                      class="js-example-basic-single js-states form-control"
                      id="id_label_single "
                      style="height: 45px"
                      [(ngModel)]="tagType"
                      (change)="selected_tag()"
                      name="tag_type "
                    >
                      <option *ngFor="let item of tagCategory" [ngValue]="item">
                        {{ item.name }}
                      </option>
                    </select>
                  </label>
                            </div>
                            <!-- Tags List -->
                            <div class="search-col-3 form-group">
                                <label for="tags " class="probootstrap-date-wrap">Tags</label>
                                <mat-chip-list #tagschipList style="width: 100%; height: 45px">
                                    <mat-chip class="search-chip" *ngFor="let Tag of tags_list" [selectable]="true" [removable]="true" (removed)="remove(Tag)">
                                        {{ Tag }}
                                        <mat-icon matChipRemove *ngIf="true">
                                            <img src="../../assets/img/x-cross-dark.svg " width="15px " /></mat-icon>
                                    </mat-chip>
                                    <input class="form-control" placeholder="Add Tags " [matChipInputFor]="tagschipList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]="true" (matChipInputTokenEnd)="add($event)" />
                                </mat-chip-list>
                            </div>
                        </div>
                    </div>
                    <!-- END row -->
                </div>
            </div>

            <div class="probootstrap-form border-form2" *ngIf="results_count">
                <div>
                    <div class="row mb-3">
                        <!-- Search Tab -->
                        <div class="col-md">
                            <div class="tab active" id="search_tab" (click)="show_search()">
                                Search Results
                            </div>
                        </div>
                        <!-- Analytics Tab -->
                        <div class="col-md">
                            <div class="tab" id="analytics_tab" (click)="show_analytics()">
                                Analytics
                            </div>
                        </div>
                        <!-- Intelligent Legal Output Tab -->
                        <div class="col-md">
                            <div class="tab" id="citation_tab" (click)="show_citations()">
                                Intelligent Legal Output
                            </div>
                        </div>
                    </div>
                    <div class="row mb-3" *ngIf="view_search && searched">
                        <!-- Search Slide -->
                        <div id="slide-1 ">
                            <p style="margin: 10px 0">
                                {{ results_count }} results found in {{ results_time }} seconds
                            </p>
                            <div class="search-repeater" *ngFor="let data of rows">
                                <div style="display: grid; grid-template-columns: 80% 20%">
                                    <div class="top-bar">
                                        <div class="keyword-list-item case-id-keyword" *ngIf="data.case_id != ''">
                                            <p style="margin: 0; padding: 0">
                                                {{ data.case_id }}
                                            </p>
                                        </div>
                                        <div class="keyword-list-item source-keyword" *ngIf="data.source != ''">
                                            <p style="margin: 0; padding: 0">
                                                {{ data.source }}
                                            </p>
                                        </div>
                                        <div class="keyword-list-item judgement-keyword" *ngIf="data.judgement != ''">
                                            <p style="margin: 0; padding: 0">
                                                {{ data.judgement }}
                                            </p>
                                        </div>
                                        <div class="keyword-list-item date-keyword" *ngIf="data.month != ''">
                                            <p style="margin: 0; padding: 0">
                                                {{ data.day }} {{ data.month }} {{ data.year }}
                                            </p>
                                        </div>
                                        <div class="keyword-list-item bench-keyword" *ngIf="data.bench != ''">
                                            <p style="margin: 0; padding: 0">
                                                {{ data.bench }}
                                            </p>
                                        </div>
                                        <div class="keyword-list-item occurences">
                                            <p style="margin: 0; padding: 0">
                                                Matches: {{ data.match_count }}
                                            </p>
                                        </div>
                                        <div class="keyword-list-item judgement-keyword" *ngIf="data.citing_cases.length > 0">
                                            <ng-template #popCitCaseContent>
                                                <ul class="popover-class scrollable">
                                                    <li *ngFor="let item of data.citing_cases">
                                                        <a href="casedoc/{{item._id}}">{{item.title}}</a>
                                                    </li>
                                                </ul>
                                            </ng-template>
                                            <ng-template #popCitCasesTitle> <b>Cited by</b>
                                            </ng-template>
                                            <p style="margin: 0; padding: 0" type="button" placement="bottom" [ngbPopover]="popCitCaseContent" [popoverTitle]="popCitCasesTitle">
                                                Cited by: {{ data.citing_cases.length }}
                                            </p>
                                        </div>

                                        <div class="keyword-list-item judgement-keyword" *ngIf="data.cases_referred.length > 0">
                                            <ng-template #popRefCaseContent>
                                                <ul class="popover-class scrollable">
                                                    <li *ngFor="let item of data.cases_referred">
                                                        {{item}}
                                                    </li>
                                                </ul>
                                            </ng-template>
                                            <ng-template #popRefCasesTitle> <b>Cases Cited</b>
                                            </ng-template>
                                            <p style="margin: 0; padding: 0" type="button" placement="bottom" [ngbPopover]="popRefCaseContent" [popoverTitle]="popRefCasesTitle">
                                                Cites: {{ data.cases_referred.length }}
                                            </p>
                                        </div>
                                    </div>

                                    <!-- <div style="
                        display: flex;
                        align-items: center;
                        flex-direction: row-reverse;
                      ">
                                        <div class="occurences">
                                            Matches: {{ data.match_count }}
                                        </div>
                                    </div> -->
                                </div>

                                <div>
                                    <p id="search-desc " name="desc " style="font-size: 25px; font-family: PopMedium">
                                        <a href="/casedoc/{{ data._id }} " target="_blank " style="text-decoration: none; margin: 0; color: #012970">{{ data.title }}</a
                      >
                    </p>
                  </div>
                  <div>
                    <div
                      style="
                        display: flex;
                        flex-wrap: wrap;
                        -webkit-flex-wrap: wrap;
                      "
                    >
                      <div *ngFor="let elem of data.query_terms">
                        <div class="keyword-list-item query-term-keyword">
                          <p
                            style="margin: 0; padding: 0; cursor: pointer"
                            (click)="tag_click($event)"
                          >
                            {{ elem }}
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div style="margin: 5px 5px 5px 0">
                    <p
                      class="blog-post"
                      style="font-size: small; text-align: justify"
                      [innerHtml]="data.highlight"
                    ></p>
                  </div>
                </div>
              </div>
            </div>
            <div class="row mb-3" *ngIf="view_analytics && searched">
              <!-- Analytics Slide -->
              <div id="slide-2 ">
                <!-- Analytics part with graphs -->
                <div *ngIf="show_graphs_warning" style="text-align: center">
                  Rotate your device to landcape mode
                </div>
                <div *ngIf="!show_graphs_warning">
                  <swiper style="margin: auto" [config]="config">
                    <div class="swiper-wrapper">
                      <div class="swiper-slide">
                        <div class="graphs-item">
                          <canvas
                            #myCanvas
                            baseChart
                            [datasets]="barChartData"
                            [labels]="barChartLabels"
                            [options]="barChartOptions"
                            [plugins]="barChartPlugins"
                            [legend]="barChartLegend"
                            [chartType]="barChartType"
                          >
                          </canvas>
                        </div>
                      </div>
                      <div class="swiper-slide">
                        <div class="graphs-item">
                          <canvas
                            baseChart
                            [chartType]="'line'"
                            [datasets]="chartData"
                            [labels]="chartLabels"
                            [options]="linechartOptions"
                            [legend]="true"
                          ></canvas>
                        </div>
                      </div>
                      <div class="swiper-slide">
                        <div class="graphs-item">
                          <canvas
                            baseChart
                            [data]="doughnutChartData"
                            [labels]="doughnutChartLabels"
                            [options]="doughnutChartOptions"
                            [chartType]="doughnutChartType"
                          ></canvas>
                        </div>
                      </div>
                      <!-- <div class="swiper-slide ">
                        <div class="graphs-item ">
                          <canvas
                            baseChart
                            [datasets]="petitionerChartData "
                            [labels]="petitionerChartLabels "
                            [options]="petitionerChartOptions "
                            [legend]="petitionerChartLegend "
                            [chartType]="petitionerChartType "
                          ></canvas>
                        </div>
                      </div>
                      <div class="swiper-slide ">
                        <div class="graphs-item ">
                          <canvas
                            baseChart
                            [datasets]="respondentChartData "
                            [labels]="respondentChartLabels "
                            [options]="respondentChartOptions "
                            [legend]="respondentChartLegend "
                            [chartType]="respondentChartType "
                          ></canvas>
                        </div>
                      </div> -->
                    </div>

                    <div class="swiper-pagination"></div>
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                  </swiper>
                </div>
              </div>
            </div>
            <div class="row mb-3" *ngIf="view_citations && searched">
              <!-- Intelligent Legal Output Slide -->
              <div id="slide-3 ">
                <div class="ilo-view">
                  <div class="ilo-view-item">
                    <h2 class="title-h2">Most Relevant Laws</h2>
                    <div
                      *ngFor="let provision of CitedProvisions; index as i"
                      style="margin: 20px auto; display: flexbox"
                    >
                      <div style="text-align: center; margin: 5px 0">
                        {{ provision.act_name }}
                      </div>
                      <mat-chip-list #sectionsChipList>
                        <mat-chip
                          class="tag-chip"
                          *ngFor="let section of provision.sections"
                        >
                          {{ section }}
                        </mat-chip>
                      </mat-chip-list>
                    </div>
                  </div>
                  <div class="ilo-view-item">
                    <h2 class="title-h2">Most important Cases</h2>
                    <div
                      style="padding: 20px 0"
                      *ngIf="cited_cases_url[0] !== 0"
                      id="table-cited-cases "
                    >
                      <div
                        class="most-cited-case"
                        *ngFor="let item of cited_cases; index as i"
                      >
                        <a
                          style="color: black; text-decoration: none"
                          href="https://firstcase.io/casedoc/{{
                            cited_cases_url[i]
                          }} "
                          target="_blank "
                        >
                          {{ item.group }}
                        </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row mb-3" *ngIf="results_count && view_search">
                <!-- Pagination Previous -->
                <div class="col md">
                    <div class="pagination-elem" *ngIf="page > 1">
                        <button (click)="sendPreviousPage()">Previous</button>
                    </div>
                </div>
                <!-- Pagination Number -->
                <div class="col md" style="text-align: center">
                    <div class="pagination-elem">
                        <div>
                            Page: {{ page }} of {{ (results_count - (results_count % limit)) / limit }}
                        </div>
                    </div>
                </div>
                <!-- Pagination Next -->
                <div class="col md">
                    <div class="pagination-elem" *ngIf="
                    page < (results_count - (results_count % limit)) / limit
                  ">
                        <button (click)="sendNextPage()">Next</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- <div class="probootstrap-form border-form2"
          *ngIf="!results_count"
        >
          <div class="explainer-grid">
            <div class="explainer-item" id="intro-text "></div>
            <br />
            <div class="explainer-item" id="search-operators ">
              <h3>
                Use following search operators in your query for narrowing down
                search:
              </h3>
              <div
                style="
                  -webkit-columns: 2;
                  -moz-columns: 2;
                  columns: 2;
                  list-style-position: inside;
                  display: inline-block;
                "
              >
                <div style="list-style-type: circle">
                  <div>Use qoutes for exact phrase match</div>
                  <div>
                    Use <b>|</b> operator before terms for optionally including
                    it
                  </div>
                  <div>
                    Use <b>-</b> operator before terms for excluding them
                  </div>
                  <div>
                    Use <b>*</b> for results with variation of 1 character
                  </div>
                </div>
                <div>
                  <div>: <b> "</b>medical negdivgence<b>"</b></div>
                  <div>: medical negdivgence <b>|</b>ignorance</div>
                  <div>: Homebuyers <b>-</b>bankruptcy</div>
                  <div>: Copyright 202<b>*</b></div>
                </div>
              </div>
            </div>
            <br />
            <div class="explainer-item" id="filters-usage">
              <h3>
                Use
                <img
                  height="25px"
                  src="../../assets/img/filters_button.png"
                  alt="filters button"
                  style="vertical-align: middle"
                />
                for narrowing results by court sources, range of years and
                result of judgments
              </h3>
            </div>
            <br />
            <div class="explainer-item" id="search-tags">
              <h3>
                Add search tags for filtering results by names of parties,
                counsels and bench
              </h3>
              <img
                height="35px"
                src="../../assets/img/search_tag_btn.png"
                alt="search tags"
              />
            </div>
            <br />
            <div class="explainer-item" id="tabs-contents">
              <h3>Explore a rich set of insights in the following tabs:</h3>
              <br />
              <div
                class="tabs-explainer-grid-container"
                style="display: grid; grid-template-columns: 32% 30%"
              >
                <div
                  class="analytics-tab-explainer"
                  style="align-items: center; padding-right: 20px"
                >
                  <button
                    class="tab"
                    id="analytics_tab"
                    style="
                      display: flex !important;
                      justify-content: center !important;
                      margin: auto;
                      padding: auto;
                    "
                  >
                    Analytics
                  </button>
                  <ul
                    style="list-style-type: none; border-right: 1px solid #bbb"
                  >
                    <br />
                    <li>Trend of judgement over years</li>
                    <li>Distribution of total judgements</li>
                    <li>Statistics for counsels for parties</li>
                  </ul>
                </div>
                <div class="legal-output-tab-explainer">
                  <button
                    class="tab"
                    id="analytics_tab"
                    style="
                      display: flex !important;
                      justify-content: center !important;
                      margin: auto;
                      padding: auto;
                    "
                  >
                    Intelligent Legal Output
                  </button>
                  <ul style="list-style-type: none">
                    <br />
                    <li>Most relevant acts and sections</li>
                    <li>Most relevant cases for the query</li>
                  </ul>
                </div>
              </div>
            </div>
            <br />
          </div>
          <div class="courts-list">
            <br />
            <h3>Comprehensive legal database of Indian courts</h3>
            <ul>
              <li>Supreme Court of India</li>
              <li>
                High Courts:
                <ul>
                  <li>Delhi High Court</li>
                  <li>Bombay High Court</li>
                  <li>Madras High Court</li>
                  <li>Andhra High Court</li>
                  <li>Calcutta High Court</li>
                  <li>Patna High Court</li>
                  <li>Orissa High Court</li>
                  <li>Allahabad High Court</li>
                </ul>
              </li>
              <li>
                Tribunals
                <ul>
                  <li>National Company Law Appellate Tribunal</li>
                  <li>Appellate Tribunal for Electricity</li>
                  <li>Authority Tribunal</li>
                </ul>
              </li>
              <h4>And expanding ...</h4>
            </ul>
          </div>
        </div> -->
    </div>
    </div>
    </div>
</section>